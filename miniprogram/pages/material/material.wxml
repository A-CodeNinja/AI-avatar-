<view class="container">
  <!-- 分类标签 -->
  <view class="tabs-wrapper">
    <scroll-view class="tabs-scroll" scroll-x="true" enhanced show-scrollbar="{{false}}">
      <view class="tabs-list">
        <view 
          wx:for="{{categoryTabs}}" 
          wx:key="id"
          class="tab-item {{currentCategory === item.id ? 'active' : ''}}"
          data-id="{{item.id}}"
          bindtap="switchCategory"
        >
          <text class="tab-text">{{item.name}}</text>
        </view>
      </view>
    </scroll-view>
  </view>

  <!-- 类型切换 -->
  <view class="type-tabs">
    <view 
      class="type-item {{currentType === 'frame' ? 'active' : ''}}"
      data-type="frame"
      bindtap="switchType"
    >
      <image class="type-icon" src="/images/icons/frame.png"></image>
      <text class="type-text">头像框</text>
    </view>
    <view 
      class="type-item {{currentType === 'sticker' ? 'active' : ''}}"
      data-type="sticker"
      bindtap="switchType"
    >
      <image class="type-icon" src="/images/icons/sticker.png"></image>
      <text class="type-text">贴纸</text>
    </view>
  </view>

  <!-- 搜索栏 -->
  <view class="search-bar">
    <image class="search-icon" src="/images/icons/search.png"></image>
    <input 
      class="search-input"
      placeholder="搜索素材"
      bindinput="onSearch"
      value="{{searchKeyword}}"
    />
  </view>

  <!-- 素材列表 -->
  <view class="content-section">
    <view wx:if="{{currentType === 'frame'}}" class="material-grid">
      <view 
        wx:for="{{filteredFrames}}" 
        wx:key="id"
        class="material-item"
        data-item="{{item}}"
        bindtap="selectMaterial"
      >
        <view class="material-wrapper">
          <image class="material-image" src="{{item.image}}" mode="aspectFill"></image>
          <view class="material-tag" wx:if="{{item.tag}}">{{item.tag}}</view>
        </view>
        <text class="material-name">{{item.name}}</text>
        <text class="material-category">{{item.categoryName}}</text>
      </view>
    </view>

    <view wx:if="{{currentType === 'sticker'}}" class="sticker-grid">
      <view 
        wx:for="{{filteredStickers}}" 
        wx:key="id"
        class="sticker-item"
        data-item="{{item}}"
        bindtap="selectMaterial"
      >
        <view class="sticker-wrapper">
          <image class="sticker-image" src="{{item.image}}" mode="aspectFit"></image>
        </view>
        <text class="sticker-name">{{item.name}}</text>
      </view>
    </view>

    <!-- 空状态 -->
    <view wx:if="{{filteredFrames.length === 0 && currentType === 'frame'}}" class="empty-state">
      <image class="empty-icon" src="/images/empty.png"></image>
      <text class="empty-text">暂无该分类的头像框</text>
    </view>
    <view wx:if="{{filteredStickers.length === 0 && currentType === 'sticker'}}" class="empty-state">
      <image class="empty-icon" src="/images/empty.png"></image>
      <text class="empty-text">暂无该分类的贴纸</text>
    </view>
  </view>
</view>
