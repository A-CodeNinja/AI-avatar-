<view class="container">
  <!-- 用户信息头部 -->
  <view class="user-header">
    <view class="user-card">
      <view class="user-left">
        <image class="user-avatar" src="{{userInfo.avatarUrl || '/images/icons/avatar.png'}}"></image>
        <view class="user-info">
          <text class="user-name">{{userInfo.nickName || '微信用户'}}</text>
          <text class="user-id">ID: {{userId || '888888'}}</text>
        </view>
      </view>
      <view class="user-right">
        <view class="points-box">
          <text class="points-label">积分</text>
          <text class="points-value">{{points}}</text>
        </view>
      </view>
    </view>

    <!-- 统计数据 -->
    <view class="stats-row">
      <view class="stat-item" bindtap="goToHistory" data-type="ai">
        <text class="stat-value">{{aiCount}}</text>
        <text class="stat-label">AI头像</text>
      </view>
      <view class="stat-item" bindtap="goToHistory" data-type="bianbian">
        <text class="stat-value">{{bianbianCount}}</text>
        <text class="stat-label">百变头像</text>
      </view>
      <view class="stat-item" bindtap="goToHistory" data-type="all">
        <text class="stat-value">{{totalGenerate}}</text>
        <text class="stat-label">全部生成</text>
      </view>
    </view>
  </view>

  <!-- 积分充值 -->
  <view class="recharge-section">
    <view class="section-header">
      <text class="section-title">积分充值</text>
      <text class="section-tips">超值优惠</text>
    </view>
    <scroll-view class="recharge-scroll" scroll-x="true" enhanced show-scrollbar="{{false}}">
      <view class="recharge-list">
        <view 
          wx:for="{{rechargeOptions}}" 
          wx:key="id"
          class="recharge-item {{item.recommend ? 'recommend' : ''}} {{selectedRecharge === item.id ? 'active' : ''}}"
          data-id="{{item.id}}"
          bindtap="selectRecharge"
        >
          <view class="recharge-tag" wx:if="{{item.recommend}}">推荐</view>
          <view class="recharge-points">{{item.points}}<text class="points-unit">积分</text></view>
          <view class="recharge-price">¥{{item.price}}</view>
        </view>
      </view>
    </scroll-view>
    <button class="recharge-btn" bindtap="handleRecharge" disabled="{{!selectedRecharge}}">
      立即充值
    </button>
  </view>

  <!-- 功能菜单 -->
  <view class="menu-section">
    <view class="menu-group">
      <view 
        wx:for="{{menuList}}" 
        wx:key="title"
        class="menu-item"
        data-url="{{item.url}}"
        bindtap="handleMenu"
      >
        <view class="menu-left">
          <view class="menu-icon-wrapper" style="background: {{item.color}};">
            <image class="menu-icon" src="{{item.icon}}"></image>
          </view>
          <text class="menu-title">{{item.title}}</text>
        </view>
        <view class="menu-right">
          <text class="menu-desc" wx:if="{{item.desc}}">{{item.desc}}</text>
          <image class="menu-arrow" src="/images/arrow.svg"></image>
        </view>
      </view>
    </view>

    <!-- 其他功能 -->
    <view class="menu-group">
      <view class="menu-item" bindtap="goToTools">
        <view class="menu-left">
          <view class="menu-icon-wrapper" style="background: linear-gradient(135deg, #FFA751 0%, #FFE259 100%);">
            <image class="menu-icon" src="/images/icons/tools.png"></image>
          </view>
          <text class="menu-title">更多好玩的</text>
        </view>
        <image class="menu-arrow" src="/images/arrow.svg"></image>
      </view>
      <view class="menu-item" bindtap="goToInvite">
        <view class="menu-left">
          <view class="menu-icon-wrapper" style="background: linear-gradient(135deg, #4CAF50 0%, #8BC34A 100%);">
            <image class="menu-icon" src="/images/icons/invite.png"></image>
          </view>
          <text class="menu-title">邀请好友</text>
        </view>
        <view class="menu-right">
          <text class="menu-reward">+20积分/人</text>
          <image class="menu-arrow" src="/images/arrow.svg"></image>
        </view>
      </view>
      <view class="menu-item" open-type="contact">
        <view class="menu-left">
          <view class="menu-icon-wrapper" style="background: linear-gradient(135deg, #2196F3 0%, #03A9F4 100%);">
            <image class="menu-icon" src="/images/icons/contact.png"></image>
          </view>
          <text class="menu-title">联系客服</text>
        </view>
        <image class="menu-arrow" src="/images/arrow.svg"></image>
      </view>
    </view>
  </view>

  <!-- 版本信息 -->
  <view class="version-info">
    <text class="version-text">当前版本 v1.0.0</text>
  </view>
</view>
