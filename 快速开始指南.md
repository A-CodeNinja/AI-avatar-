# 快速开始指南 - AI头像生成小程序

> **5分钟快速上手**

---

## 🚀 立即开始（3步）

### 步骤1: 获取AI API Key（2分钟）

**推荐：豆包AI（免费额度充足）**

1. 访问：https://www.volcengine.com/
2. 注册/登录账号
3. 进入"火山方舟"控制台：https://console.volcengine.com/ark
4. 点击"API密钥管理" → "创建API密钥"
5. 复制生成的密钥（格式：`sk-xxxxx`）

✅ **免费额度**：1000次/月（足够支持1000个用户）

---

### 步骤2: 配置云函数（2分钟）

1. 打开微信开发者工具
2. 进入"云开发"控制台
3. 找到云函数 `generateAvatar`
4. 点击"配置"
5. 添加环境变量：

| 变量名 | 值 |
|--------|-----|
| `AI_API_KEY` | 你的豆包API密钥 |
| `AI_API_URL` | https://ark.cn-beijing.volces.com/api/v3/chat/completions |
| `AI_MODEL` | ep-20241101-xxxxx （查看控制台） |
| `AI_TYPE` | doubao |

6. 保存并重新上传云函数

---

### 步骤3: 测试生成（1分钟）

1. 打开小程序
2. 点击"选择图片" → 上传一张照片
3. 选择风格（如"动漫"）
4. 点击"生成头像"
5. 等待3-10秒

✅ **成功标志**: 看到新生成的头像（不是原图）

---

## 📊 积分系统（更慷慨）

### 用户获取积分：

| 方式 | 每日次数 | 每次 | 每日最多 |
|------|---------|------|----------|
| 签到 | 1次 | 10-100积分 | 100积分 |
| 观看广告 | 5次 | 20积分 | 100积分 |
| 分享好友 | 5次 | 20积分 | 100积分 |
| **总计** | | | **300积分/天** |

### 消耗积分：
- 生成头像：10积分/次
- 300积分可生成 **30次/天**（超充足！）

---

## 🎯 核心功能

### ✅ 已完成：
- [x] 真实AI头像生成（修复了假实现）
- [x] 支持8种基础风格（动漫、3D、素描等）
- [x] 支持5种民族风格（维吾尔、哈萨克、蒙古等）
- [x] 素材库（头像框+贴纸）
- [x] 头像墙（官方精选+用户共享）
- [x] 积分系统（签到、广告、分享）
- [x] 慷慨积分（300积分/天）

---

## 📋 下一步行动

### 本周任务：
- [ ] 注册豆包AI并获取API Key
- [ ] 配置云函数环境变量
- [ ] 测试AI生成功能
- [ ] 准备5组生成示例图

### 下周任务：
- [ ] 添加民族风格UI
- [ ] 优化用户界面
- [ ] 准备参考图片素材

### 上线准备：
- [ ] 邀请10-20位内测用户
- [ ] 收集反馈并优化
- [ ] 提交微信审核

---

## 💰 预算控制

### 当前方案：
- **豆包AI免费额度**：1000次/月
- **预算**：0元
- **备用Stability AI**：50元（约350张）

### 何时使用备用方案：
- 当豆包AI免费额度用完时
- 当用户量超过1000人/月时

---

## ⚠️ 常见问题

### Q1: 生成失败怎么办？
**A**:
1. 检查云函数环境变量是否正确
2. 查看云函数日志中的错误信息
3. 尝试切换AI服务商（修改`AI_TYPE`）

### Q2: 生成速度慢？
**A**:
- 豆包AI：3-5秒（最快）
- 通义千问：5-10秒
- Stability AI：10-20秒

### Q3: 如何切换AI服务商？
**A**: 修改云函数环境变量 `AI_TYPE`:
- `doubao`（豆包）
- `qianwen`（通义千问）
- `zhipu`（智谱AI）
- `stability`（Stability AI）

### Q4: 免费额度用完了？
**A**:
- 切换到另一个有免费额度的服务商
- 或使用Stability AI备用方案

---

## 📞 技术支持

### 遇到问题？
1. 查看云函数日志
2. 检查环境变量配置
3. 参考[完整实施方案.md](./完整实施方案.md)
4. 参考[环境变量配置指南.md](./环境变量配置指南.md)

---

## 📚 相关文档

- [完整实施方案.md](./完整实施方案.md) - 详细方案
- [环境变量配置指南.md](./环境变量配置指南.md) - API获取指南
- [民族风格素材准备指南.md](./民族风格素材准备指南.md) - 素材准备
- [素材管理文档.md](./素材管理文档.md) - 素材规范

---

**祝你项目成功！** 🚀

有问题随时查阅相关文档！
